<!DOCTYPE html>
<html>
<head>



</head>

<body onload="onDocumentLoad()">
    
    <h1>Inspiration</h1>
    <p>An artwork generator, aimed to brighten the viewer's day.</p>

    <img id="originalStencilImage" src="Sunrise - Original.jpg" width="944" height="606" alt="Could not load image; please adjust your settings.">
    <img id="originalGreyscaleImage" src="Sunrise - Greyscale.jpg" width="944" height="606" alt="Could not load image; please adjust your settings.">
    
    <canvas id="targetCanvas" width="944" height="606"></canvas>
    
    <script>
    
        var img = document.getElementById("originalGreyscaleImage");
        var canvas = document.getElementById("targetCanvas");
        
        var imgWidth;
        var imgHeight;

        var hueThresholdDelta = 17.5;
        
        var rayHue = 225.0;
        var skyHue = 200.0;
        var backHillHue = 175.0;
        var leftHillHue = 150.0
        var rightHillHue = 125.0
        var waterHue = 100.0;
        var frontHillHue = 75.0;
        var sunHue = 50.0;
        
        var newRayHue = [0.0, 0.0, 0.0, 255.0];
        var newSkyHue = [0.0, 0.0, 0.0, 255.0];
        var newBackHillHue = [0.0, 0.0, 0.0, 255.0];
        var newLeftHillHue = [0.0, 0.0, 0.0, 255.0];
        var newRightHillHue = [0.0, 0.0, 0.0, 255.0];
        var newWaterHue = [0.0, 0.0, 0.0, 255.0];
        var newFrontHillHue = [0.0, 0.0, 0.0, 255.0];
        var newSunHue = [0.0, 0.0, 0.0, 255.0];
        
        var onDocumentLoad = function()
        {
            //debugs
            generateSchema();
            fillTarget();
        }
        
        var generateSchema = function()
        {
            // debugs
            newRayHue = [0.0, 0.0, 0.0, 255.0];
            newSkyHue = [25.0, 25.0, 25.0, 255.0];
            newBackHillHue = [50.0, 50.0, 50.0, 255.0];
            newLeftHillHue = [75.0, 75.0, 75.0, 255.0];
            newRightHillHue = [100.0, 100.0, 100.0, 255.0];
            newWaterHue = [125.0, 125.0, 125.0, 255.0];
            newFrontHillHue = [150.0, 150.0, 150.0, 255.0];
            newSunHue = [175.0, 175.0, 175.0, 255.0];
        }
        
        var fillTarget = function()
        {
            //var canvas = document.getElementById("targetCanvas");
            var canvasContext = canvas.getContext("2d");
            canvasContext.drawImage(img, 0, 0);
            var imgData = canvasContext.getImageData(0, 0, canvas.width, canvas.height);
            var pixels = imgData.data;
        
            console.log("pixels.length: " + pixels.length);

            for(var i = 0; i < pixels.length; i += 4)
            {
                var redHue = pixels[i];
                var rgba = [0.0, 0.0, 0.0, 255.0];
        
        
                if(Math.abs(redHue - skyHue) < hueThresholdDelta)
                    rgba = newSkyHue;
        
                else if(Math.abs(redHue - rayHue) < hueThresholdDelta)
                    rgba = newRayHue;
        
                else if(Math.abs(redHue - backHillHue) < hueThresholdDelta)
                    rgba = newBackHillHue;
        
                else if(Math.abs(redHue - leftHillHue) < hueThresholdDelta)
                    rgba = newLeftHillHue;
        
                else if(Math.abs(redHue - rightHillHue) < hueThresholdDelta)
                    rgba = newRightHillHue;
        
                else if(Math.abs(redHue - waterHue) < hueThresholdDelta)
                    rgba = newWaterHue;
        
                else if(Math.abs(redHue - frontHillHue) < hueThresholdDelta)
                    rgba = newFrontHillHue;
        
                else if(Math.abs(redHue - sunHue) < hueThresholdDelta)
                    rgba = newSunHue;
        
        
                pixels[i + 0] = rgba[0];
                pixels[i + 1] = rgba[1];
                pixels[i + 2] = rgba[2];
                pixels[i + 3] = rgba[3];
        
            }
            //imgData.data.set(pixels);
            canvasContext.putImageData(imgData, 0, 0);
        }
        
    </script>
  
    <br>
    <br>
    <br>
    <small>Original obtained from <a href="https://i.pinimg.com/originals/86/a3/d1/86a3d11a2a62555a69fd627d1bb5ce95.jpg">here</a></small>

</body>
